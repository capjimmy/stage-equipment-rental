(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31879,e=>{"use strict";let t=(0,e.i(57357).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],31879)},72819,e=>{"use strict";let t=(0,e.i(57357).default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);e.s(["LogOut",()=>t],72819)},76993,(e,t,r)=>{t.exports=e.r(8514)},46117,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},57357,e=>{"use strict";var t=e.i(85251);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...l,width:r,height:r,stroke:e,strokeWidth:n?24*Number(a)/Number(r):a,className:s("lucide",o),...!i&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(i)?i:[i]])),n=(e,l)=>{let n=(0,t.forwardRef)(({className:n,...o},i)=>(0,t.createElement)(a,{ref:i,iconNode:l,className:s(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...o}));return n.displayName=r(e),n};e.s(["default",()=>n],57357)},91815,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={assign:function(){return i},searchParamsToUrlQuery:function(){return a},urlQueryToSearchParams:function(){return o}};for(var l in s)Object.defineProperty(r,l,{enumerable:!0,get:s[l]});function a(e){let t={};for(let[r,s]of e.entries()){let e=t[r];void 0===e?t[r]=s:Array.isArray(e)?e.push(s):t[r]=[e,s]}return t}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[r,s]of Object.entries(e))if(Array.isArray(s))for(let e of s)t.append(r,n(e));else t.set(r,n(s));return t}function i(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,s]of r.entries())e.append(t,s)}return e}},37260,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={formatUrl:function(){return o},formatWithValidation:function(){return c},urlObjectKeys:function(){return i}};for(var l in s)Object.defineProperty(r,l,{enumerable:!0,get:s[l]});let a=e.r(90893)._(e.r(91815)),n=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,s=e.protocol||"",l=e.pathname||"",o=e.hash||"",i=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),i&&"object"==typeof i&&(i=String(a.urlQueryToSearchParams(i)));let d=e.search||i&&`?${i}`||"";return s&&!s.endsWith(":")&&(s+=":"),e.slashes||(!s||n.test(s))&&!1!==c?(c="//"+(c||""),l&&"/"!==l[0]&&(l="/"+l)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),d&&"?"!==d[0]&&(d="?"+d),l=l.replace(/[?#]/g,encodeURIComponent),d=d.replace("#","%23"),`${s}${c}${l}${d}${o}`}let i=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return o(e)}},24019,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return l}});let s=e.r(85251);function l(e,t){let r=(0,s.useRef)(null),l=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=l.current;t&&(l.current=null,t())}else e&&(r.current=a(e,s)),t&&(l.current=a(t,s))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},97218,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={DecodeError:function(){return b},MiddlewareNotFoundError:function(){return v},MissingStaticPage:function(){return y},NormalizeError:function(){return g},PageNotFoundError:function(){return j},SP:function(){return p},ST:function(){return x},WEB_VITALS:function(){return a},execOnce:function(){return n},getDisplayName:function(){return u},getLocationOrigin:function(){return c},getURL:function(){return d},isAbsoluteUrl:function(){return i},isResSent:function(){return m},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return h},stringifyError:function(){return N}};for(var l in s)Object.defineProperty(r,l,{enumerable:!0,get:s[l]});let a=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return(...s)=>(r||(r=!0,t=e(...s)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,i=e=>o.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function d(){let{href:e}=window.location,t=c();return e.substring(t.length)}function u(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function m(e){return e.finished||e.headersSent}function h(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let s=await e.getInitialProps(t);if(r&&m(r))return s;if(!s)throw Object.defineProperty(Error(`"${u(e)}.getInitialProps()" should resolve to an object. But found "${s}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return s}let p="undefined"!=typeof performance,x=p&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class b extends Error{}class g extends Error{}class j extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class y extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class v extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},81458,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return a}});let s=e.r(97218),l=e.r(40593);function a(e){if(!(0,s.isAbsoluteUrl)(e))return!0;try{let t=(0,s.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,l.hasBasePath)(r.pathname)}catch(e){return!1}}},56012,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},53600,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={default:function(){return b},useLinkStatus:function(){return j}};for(var l in s)Object.defineProperty(r,l,{enumerable:!0,get:s[l]});let a=e.r(90893),n=e.r(46628),o=a._(e.r(85251)),i=e.r(37260),c=e.r(98745),d=e.r(24019),u=e.r(97218),m=e.r(66852);e.r(46117);let h=e.r(30885),f=e.r(81458),p=e.r(58486);function x(e){return"string"==typeof e?e:(0,i.formatUrl)(e)}function b(t){var r;let s,l,a,[i,b]=(0,o.useOptimistic)(h.IDLE_LINK_STATUS),j=(0,o.useRef)(null),{href:y,as:v,children:N,prefetch:k=null,passHref:w,replace:S,shallow:C,scroll:O,onClick:P,onMouseEnter:T,onTouchStart:E,legacyBehavior:_=!1,onNavigate:A,ref:$,unstable_dynamicOnHover:M,...L}=t;s=N,_&&("string"==typeof s||"number"==typeof s)&&(s=(0,n.jsx)("a",{children:s}));let R=o.default.useContext(c.AppRouterContext),I=!1!==k,F=!1!==k?null===(r=k)||"auto"===r?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:D,as:U}=o.default.useMemo(()=>{let e=x(y);return{href:e,as:v?x(v):e}},[y,v]);if(_){if(s?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});l=o.default.Children.only(s)}let z=_?l&&"object"==typeof l&&l.ref:$,B=o.default.useCallback(e=>(null!==R&&(j.current=(0,h.mountLinkInstance)(e,D,R,F,I,b)),()=>{j.current&&((0,h.unmountLinkForCurrentNavigation)(j.current),j.current=null),(0,h.unmountPrefetchableInstance)(e)}),[I,D,R,F,b]),K={ref:(0,d.useMergedRef)(B,z),onClick(t){_||"function"!=typeof P||P(t),_&&l.props&&"function"==typeof l.props.onClick&&l.props.onClick(t),!R||t.defaultPrevented||function(t,r,s,l,a,n,i){if("undefined"!=typeof window){let c,{nodeName:d}=t.currentTarget;if("A"===d.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(r)){a&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),i){let e=!1;if(i({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:u}=e.r(12237);o.default.startTransition(()=>{u(s||r,a?"replace":"push",n??!0,l.current)})}}(t,D,U,j,S,O,A)},onMouseEnter(e){_||"function"!=typeof T||T(e),_&&l.props&&"function"==typeof l.props.onMouseEnter&&l.props.onMouseEnter(e),R&&I&&(0,h.onNavigationIntent)(e.currentTarget,!0===M)},onTouchStart:function(e){_||"function"!=typeof E||E(e),_&&l.props&&"function"==typeof l.props.onTouchStart&&l.props.onTouchStart(e),R&&I&&(0,h.onNavigationIntent)(e.currentTarget,!0===M)}};return(0,u.isAbsoluteUrl)(U)?K.href=U:_&&!w&&("a"!==l.type||"href"in l.props)||(K.href=(0,m.addBasePath)(U)),a=_?o.default.cloneElement(l,K):(0,n.jsx)("a",{...L,...K,children:s}),(0,n.jsx)(g.Provider,{value:i,children:a})}e.r(56012);let g=(0,o.createContext)(h.IDLE_LINK_STATUS),j=()=>(0,o.useContext)(g);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},93890,e=>{"use strict";let t=(0,e.i(57357).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],93890)},98996,e=>{"use strict";let t=(0,e.i(57357).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>t],98996)},69697,e=>{"use strict";let t=(0,e.i(57357).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],69697)},87678,e=>{"use strict";let t=(0,e.i(57357).default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);e.s(["default",()=>t])},37016,e=>{"use strict";let t=(0,e.i(57357).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],37016)},47966,e=>{"use strict";var t=e.i(46628),r=e.i(85251),s=e.i(76993),l=e.i(31879),a=e.i(98996),n=e.i(57357);let o=(0,n.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var i=e.i(72819),c=e.i(93890),d=e.i(87678),d=d;let u=(0,n.default)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var m=e.i(37016),h=e.i(53600);e.i(78656);var f=e.i(81485),p=e.i(69697);let x={requested:{label:"예약신청",color:"bg-yellow-100 text-yellow-700"},hold_pendingpay:{label:"입금대기",color:"bg-orange-100 text-orange-700"},confirmed:{label:"확정됨",color:"bg-blue-100 text-blue-700"},preparing:{label:"준비중",color:"bg-indigo-100 text-indigo-700"},dispatched:{label:"배송중",color:"bg-purple-100 text-purple-700"},delivered:{label:"배송완료",color:"bg-cyan-100 text-cyan-700"},returned:{label:"반납완료",color:"bg-slate-100 text-slate-700"},inspecting:{label:"검수중",color:"bg-teal-100 text-teal-700"},inspection_passed:{label:"검수완료",color:"bg-green-100 text-green-700"},inspection_failed:{label:"검수실패",color:"bg-rose-100 text-rose-700"},rejected:{label:"거절됨",color:"bg-red-100 text-red-700"},canceled:{label:"취소됨",color:"bg-red-100 text-red-700"},expired:{label:"만료됨",color:"bg-gray-100 text-gray-700"}};function b({orders:e,isAdmin:r,onConfirmPayment:s,onCancelOrder:l,onDispatchOrder:n,onCollectOrder:o,onViewOrderDetail:i}){return 0===e.length?(0,t.jsxs)("div",{className:"card p-12 text-center",children:[(0,t.jsx)(a.Package,{className:"w-24 h-24 text-slate-300 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"대여 내역이 없습니다"}),(0,t.jsx)("p",{className:"text-slate-600 mb-6",children:"원하시는 장비를 대여해보세요"}),(0,t.jsx)(h.default,{href:"/",className:"btn btn-primary inline-flex",children:"장비 둘러보기"})]}):(0,t.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:"card p-6",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6 pb-4 border-b border-slate-200",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:["주문번호: ",e.id]}),(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:["주문일: ",new Date(e.createdAt).toLocaleDateString("ko-KR")]}),r&&e.user&&(0,t.jsxs)("p",{className:"text-sm text-slate-600",children:["고객: ",e.user.name," (",e.user.email,")"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${x[e.fulfillmentStatus]?.color||"bg-gray-100 text-gray-700"}`,children:x[e.fulfillmentStatus]?.label||e.fulfillmentStatus}),(0,t.jsxs)("p",{className:"text-xl font-bold text-violet-600",children:["₩",parseFloat(e.totalAmount).toLocaleString()]})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:e.rentals?.map(e=>{let r=Math.ceil((new Date(e.blockedEnd).getTime()-new Date(e.blockedStart).getTime())/864e5)+1;return(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-slate-100 rounded-lg flex-shrink-0 flex items-center justify-center",children:(0,t.jsx)(a.Package,{className:"w-8 h-8 text-slate-300"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(h.default,{href:`/product/${e.asset?.product?.id}`,className:"font-bold hover:text-violet-600 transition-colors",children:e.asset?.product?.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600 mt-1",children:[(0,t.jsx)(p.Calendar,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[new Date(e.blockedStart).toLocaleDateString("ko-KR")," ~"," ",new Date(e.blockedEnd).toLocaleDateString("ko-KR")," (",r,"일)"]})]}),(0,t.jsxs)("p",{className:"text-sm text-slate-600 mt-1",children:["수량: ",e.quantity||1,"개 / 일 대여료: ₩",parseFloat(e.asset?.product?.baseDailyPrice||"0").toLocaleString()]})]})]},e.id)})}),(0,t.jsx)("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-200",children:r?(0,t.jsxs)(t.Fragment,{children:[("requested"===e.fulfillmentStatus||"hold_pendingpay"===e.fulfillmentStatus)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>s(e.id),className:"btn btn-primary flex-1",children:"입금확인"}),(0,t.jsx)("button",{onClick:()=>l(e.id),className:"btn btn-outline flex-1 text-red-600 border-red-300 hover:bg-red-50",children:"취소"}),(0,t.jsx)("button",{onClick:()=>i(e.id),className:"btn btn-outline flex-1",children:"주문상세"})]}),"confirmed"===e.fulfillmentStatus&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>i(e.id),className:"btn btn-outline flex-1",children:"주문상세"}),(0,t.jsx)("button",{onClick:()=>l(e.id),className:"btn btn-outline flex-1 text-red-600 border-red-300 hover:bg-red-50",children:"취소"}),(0,t.jsx)("button",{onClick:()=>n(e.id),className:"btn btn-primary flex-1",children:"상품발송"})]}),"dispatched"===e.fulfillmentStatus&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>l(e.id),className:"btn btn-outline flex-1 text-red-600 border-red-300 hover:bg-red-50",children:"취소"}),(0,t.jsx)("button",{onClick:()=>o(e.id),className:"btn btn-primary flex-1",children:"회수"}),(0,t.jsx)("button",{onClick:()=>i(e.id),className:"btn btn-outline flex-1",children:"기타"})]}),!["requested","hold_pendingpay","confirmed","dispatched"].includes(e.fulfillmentStatus)&&(0,t.jsx)("button",{onClick:()=>i(e.id),className:"btn btn-outline flex-1",children:"주문상세"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>i(e.id),className:"btn btn-outline flex-1",children:"주문 상세"}),("requested"===e.fulfillmentStatus||"hold_pendingpay"===e.fulfillmentStatus)&&(0,t.jsx)("button",{onClick:()=>l(e.id),className:"btn btn-outline flex-1 text-red-600 border-red-300 hover:bg-red-50",children:"예약 취소"})]})})]},e.id))})}function g({user:e}){return(0,t.jsx)("div",{className:"card p-6",children:(0,t.jsxs)("form",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"이름"}),(0,t.jsx)("input",{type:"text",value:e.name,className:"input",readOnly:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"이메일"}),(0,t.jsx)("input",{type:"email",value:e.email,className:"input",readOnly:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"전화번호"}),(0,t.jsx)("input",{type:"tel",value:e.phone||"",className:"input",readOnly:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"가입일"}),(0,t.jsx)("input",{type:"text",value:new Date(e.createdAt).toLocaleDateString("ko-KR"),className:"input",readOnly:!0})]})]}),(0,t.jsxs)("div",{className:"border-t border-slate-200 pt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"비밀번호 변경"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"현재 비밀번호"}),(0,t.jsx)("input",{type:"password",className:"input",placeholder:"현재 비밀번호를 입력하세요"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"새 비밀번호"}),(0,t.jsx)("input",{type:"password",className:"input",placeholder:"새 비밀번호를 입력하세요"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"새 비밀번호 확인"}),(0,t.jsx)("input",{type:"password",className:"input",placeholder:"새 비밀번호를 다시 입력하세요"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"button",className:"btn btn-outline flex-1",children:"취소"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary flex-1",children:"변경사항 저장"})]})]})})}function j(){let e=(0,s.useRouter)(),[n,p]=(0,r.useState)(null),[x,j]=(0,r.useState)("orders"),[y,v]=(0,r.useState)(!1),[N,k]=(0,r.useState)({total:0,available:0,rented:0,outOfStock:0}),[w,S]=(0,r.useState)([]),{orders:C,loading:O,confirmPayment:P,cancelOrder:T,dispatchOrder:E,collectOrder:_}=function(e){let[t,s]=(0,r.useState)([]),[l,a]=(0,r.useState)(!0),n=async()=>{try{a(!0);let e=localStorage.getItem("user"),t=e?JSON.parse(e):null;if(t?.role==="admin"){let e=localStorage.getItem("accessToken"),t=await fetch("http://localhost:3001/api/orders",{headers:{Authorization:`Bearer ${e}`}}),r=await t.json();s(r||[])}else{let e=await f.orderApi.getMyOrders();s(e||[])}}catch(e){console.error("Failed to fetch orders:",e)}finally{a(!1)}};return(0,r.useEffect)(()=>{n()},[e]),{orders:t,loading:l,confirmPayment:async e=>{if(confirm("입금을 확인하셨습니까? 확인 시 예약이 확정됩니다."))try{let t=localStorage.getItem("accessToken"),r=await fetch(`http://localhost:3001/api/orders/${e}/confirm-payment`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(r.ok)alert("입금이 확인되었습니다. 예약이 확정되었습니다."),n();else{let e=await r.json();alert(e.message||"입금 확인에 실패했습니다.")}}catch(e){console.error("Failed to confirm payment:",e),alert("입금 확인 중 오류가 발생했습니다.")}},cancelOrder:async e=>{let t=prompt("취소 사유를 입력해주세요:");if(t)try{let r=localStorage.getItem("accessToken"),s=await fetch(`http://localhost:3001/api/orders/${e}/cancel`,{method:"PATCH",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({reason:t})});if(s.ok)alert("주문이 취소되었습니다. 예약 날짜가 다시 열렸습니다."),n();else{let e=await s.json();alert(e.message||"주문 취소에 실패했습니다.")}}catch(e){console.error("Failed to cancel order:",e),alert("주문 취소 중 오류가 발생했습니다.")}},dispatchOrder:async e=>{if(confirm("상품을 발송하시겠습니까?"))try{let t=localStorage.getItem("accessToken"),r=await fetch(`http://localhost:3001/api/orders/${e}/dispatch`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(r.ok)alert("상품이 발송되었습니다."),n();else{let e=await r.json();alert(e.message||"상품 발송 처리에 실패했습니다.")}}catch(e){console.error("Failed to dispatch order:",e),alert("상품 발송 중 오류가 발생했습니다.")}},collectOrder:async e=>{if(confirm("상품을 회수하시겠습니까?"))try{let t=localStorage.getItem("accessToken"),r=await fetch(`http://localhost:3001/api/orders/${e}/collect`,{method:"PATCH",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(r.ok)alert("상품이 회수되었습니다."),n();else{let e=await r.json();alert(e.message||"상품 회수 처리에 실패했습니다.")}}catch(e){console.error("Failed to collect order:",e),alert("상품 회수 중 오류가 발생했습니다.")}},refetch:n}}(y),A=(0,r.useCallback)(async()=>{try{let e=await fetch("http://localhost:3001/api/products"),t=await e.json();S(t);let r=t.length,s=t.filter(e=>"active"===e.status).length;k({total:r,available:s,rented:0,outOfStock:0})}catch(e){console.error("Failed to fetch products:",e)}},[]);(0,r.useEffect)(()=>{if(!localStorage.getItem("accessToken"))return void e.push("/login");let t=localStorage.getItem("user");if(t){let e=JSON.parse(t);p(e),v("admin"===e.role),"admin"===e.role&&A()}},[e,A]);let $=async e=>{if(confirm("정말 이 상품을 삭제하시겠습니까?"))try{let t=localStorage.getItem("accessToken");(await fetch(`http://localhost:3001/api/products/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok?(alert("상품이 삭제되었습니다."),A()):alert("상품 삭제에 실패했습니다.")}catch(e){console.error("Failed to delete product:",e),alert("상품 삭제 중 오류가 발생했습니다.")}};return O?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-violet-600 mb-4"}),(0,t.jsx)("p",{className:"text-slate-600",children:"정보를 불러오는 중..."})]})}):n?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-violet-50 via-white to-pink-50",children:[(0,t.jsx)("header",{className:"border-b border-violet-100 bg-white/80 backdrop-blur-md sticky top-0 z-50",children:(0,t.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("button",{onClick:()=>e.back(),className:"flex items-center gap-2 text-slate-700 hover:text-violet-600 transition-colors",children:[(0,t.jsx)(c.ArrowLeft,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"뒤로가기"})]}),(0,t.jsx)(h.default,{href:"/",className:"text-xl font-bold bg-gradient-to-r from-violet-600 to-pink-600 bg-clip-text text-transparent",children:"Stage Rental"}),(0,t.jsx)("div",{className:"w-24"})]})})}),(0,t.jsx)("div",{className:"container mx-auto px-6 py-8",children:(0,t.jsxs)("div",{className:"grid lg:grid-cols-4 gap-8",children:[(0,t.jsx)("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"card p-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-violet-500 to-pink-500 rounded-full mb-4",children:(0,t.jsx)(l.User,{className:"w-10 h-10 text-white"})}),(0,t.jsx)("h2",{className:"text-xl font-bold mb-1",children:n.name}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:n.email})]}),(0,t.jsxs)("nav",{className:"space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>j("orders"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${"orders"===x?"bg-violet-50 text-violet-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,children:[(0,t.jsx)(a.Package,{className:"w-5 h-5"}),"대여 내역"]}),(0,t.jsxs)("button",{onClick:()=>j("profile"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${"profile"===x?"bg-violet-50 text-violet-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,children:[(0,t.jsx)(o,{className:"w-5 h-5"}),"프로필 설정"]}),y&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>j("products"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${"products"===x?"bg-violet-50 text-violet-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,children:[(0,t.jsx)(d.default,{className:"w-5 h-5"}),"상품 관리"]}),(0,t.jsxs)(h.default,{href:"/admin/categories",className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-slate-700 hover:bg-slate-50 transition-colors",children:[(0,t.jsx)(o,{className:"w-5 h-5"}),"카테고리 관리"]})]}),(0,t.jsxs)("button",{onClick:()=>{confirm("로그아웃 하시겠습니까?")&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),e.push("/"))},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[(0,t.jsx)(i.LogOut,{className:"w-5 h-5"}),"로그아웃"]})]})]})}),(0,t.jsx)("div",{className:"lg:col-span-3",children:"products"===x?(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"상품 관리"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,t.jsxs)(h.default,{href:"/admin/products/new",className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,t.jsx)(u,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:"상품 등록"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"새로운 상품 추가"})]})]}),(0,t.jsx)("p",{className:"text-slate-600 text-sm",children:"대여할 새로운 장비를 시스템에 등록하고 상세 정보를 입력합니다."})]}),(0,t.jsxs)(h.default,{href:"/admin/products",className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,t.jsx)(m.Edit,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:"상품 관리"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"상품 수정/삭제"})]})]}),(0,t.jsx)("p",{className:"text-slate-600 text-sm",children:"등록된 상품의 정보 수정, 상태 변경, 삭제 등을 관리합니다."})]}),(0,t.jsxs)(h.default,{href:"/admin",className:"card p-6 hover:shadow-lg transition-shadow cursor-pointer group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-violet-500 to-purple-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform",children:(0,t.jsx)(d.default,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:"관리자 대시보드"}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"전체 현황 보기"})]})]}),(0,t.jsx)("p",{className:"text-slate-600 text-sm",children:"주문, 상품, 사용자 현황을 한눈에 확인합니다."})]})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"통계"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:"전체 상품"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-violet-600",children:N.total})]}),(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:"대여 가능"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:N.available})]}),(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:"대여 중"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:N.rented})]}),(0,t.jsxs)("div",{className:"card p-4",children:[(0,t.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:"품절"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-red-600",children:N.outOfStock})]})]})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"전체 상품 목록"}),(0,t.jsxs)("div",{className:"space-y-3",children:[w.map(e=>(0,t.jsxs)("div",{className:"card p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-bold",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:e.description}),(0,t.jsxs)("p",{className:"text-sm text-violet-600 font-medium mt-1",children:[e.baseDailyPrice?.toLocaleString(),"원/일"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(h.default,{href:`/admin/products/${e.id}/edit`,className:"btn btn-secondary",children:"수정"}),(0,t.jsx)("button",{onClick:()=>$(e.id),className:"btn bg-red-500 hover:bg-red-600 text-white",children:"삭제"})]})]},e.id)),0===w.length&&(0,t.jsx)("div",{className:"card p-8 text-center text-slate-500",children:"등록된 상품이 없습니다."})]})]})]}):"orders"===x?(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"대여 내역"}),(0,t.jsx)(b,{orders:C,isAdmin:y,onConfirmPayment:P,onCancelOrder:T,onDispatchOrder:E,onCollectOrder:_,onViewOrderDetail:t=>e.push(`/order/${t}`)})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"프로필 설정"}),(0,t.jsx)(g,{user:n})]})})]})})]}):null}e.s(["default",()=>j],47966)}]);